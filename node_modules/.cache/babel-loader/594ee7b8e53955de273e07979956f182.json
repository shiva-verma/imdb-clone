{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\shiv\\\\IdeaProjects\\\\movie-watchlist-react\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{createContext,useReducer,useEffect}from\"react\";import AppReducer from\"./AppReducer\";// initial state\nvar initialState={watchlist:localStorage.getItem(\"watchlist\")?JSON.parse(localStorage.getItem(\"watchlist\")):[],watched:localStorage.getItem(\"watched\")?JSON.parse(localStorage.getItem(\"watched\")):[]};// create context\nexport var GlobalContext=createContext(initialState);// provider components\nexport var GlobalProvider=function GlobalProvider(props){var _useReducer=useReducer(AppReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){localStorage.setItem(\"watchlist\",JSON.stringify(state.watchlist));localStorage.setItem(\"watched\",JSON.stringify(state.watched));},[state]);// actions\nvar addMovieToWatchlist=function addMovieToWatchlist(movie){dispatch({type:\"ADD_MOVIE_TO_WATCHLIST\",payload:movie});};var removeMovieFromWatchlist=function removeMovieFromWatchlist(id){dispatch({type:\"REMOVE_MOVIE_FROM_WATCHLIST\",payload:id});};var addMovieToWatched=function addMovieToWatched(movie){dispatch({type:\"ADD_MOVIE_TO_WATCHED\",payload:movie});};var moveToWatchlist=function moveToWatchlist(movie){dispatch({type:\"MOVE_TO_WATCHLIST\",payload:movie});};var removeFromWatched=function removeFromWatched(id){dispatch({type:\"REMOVE_FROM_WATCHED\",payload:id});};return/*#__PURE__*/React.createElement(GlobalContext.Provider,{value:{watchlist:state.watchlist,watched:state.watched,addMovieToWatchlist:addMovieToWatchlist,removeMovieFromWatchlist:removeMovieFromWatchlist,addMovieToWatched:addMovieToWatched,moveToWatchlist:moveToWatchlist,removeFromWatched:removeFromWatched}},props.children);};","map":{"version":3,"sources":["C:/Users/shiv/IdeaProjects/movie-watchlist-react/src/context/GlobalState.js"],"names":["React","createContext","useReducer","useEffect","AppReducer","initialState","watchlist","localStorage","getItem","JSON","parse","watched","GlobalContext","GlobalProvider","props","state","dispatch","setItem","stringify","addMovieToWatchlist","movie","type","payload","removeMovieFromWatchlist","id","addMovieToWatched","moveToWatchlist","removeFromWatched","children"],"mappings":"0IAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,UAA/B,CAA2CC,SAA3C,KAA4D,OAA5D,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CAEA;AACA,GAAMC,CAAAA,YAAY,CAAG,CACnBC,SAAS,CAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB,EACPC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CADO,CAEP,EAHe,CAInBG,OAAO,CAAEJ,YAAY,CAACC,OAAb,CAAqB,SAArB,EACLC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CADK,CAEL,EANe,CAArB,CASA;AACA,MAAO,IAAMI,CAAAA,aAAa,CAAGX,aAAa,CAACI,YAAD,CAAnC,CAEP;AACA,MAAO,IAAMQ,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,iBACbZ,UAAU,CAACE,UAAD,CAAaC,YAAb,CADG,4CAChCU,KADgC,iBACzBC,QADyB,iBAGvCb,SAAS,CAAC,UAAM,CACdI,YAAY,CAACU,OAAb,CAAqB,WAArB,CAAkCR,IAAI,CAACS,SAAL,CAAeH,KAAK,CAACT,SAArB,CAAlC,EACAC,YAAY,CAACU,OAAb,CAAqB,SAArB,CAAgCR,IAAI,CAACS,SAAL,CAAeH,KAAK,CAACJ,OAArB,CAAhC,EACD,CAHQ,CAGN,CAACI,KAAD,CAHM,CAAT,CAKA;AACA,GAAMI,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,KAAD,CAAW,CACrCJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,wBAAR,CAAkCC,OAAO,CAAEF,KAA3C,CAAD,CAAR,CACD,CAFD,CAIA,GAAMG,CAAAA,wBAAwB,CAAG,QAA3BA,CAAAA,wBAA2B,CAACC,EAAD,CAAQ,CACvCR,QAAQ,CAAC,CAAEK,IAAI,CAAE,6BAAR,CAAuCC,OAAO,CAAEE,EAAhD,CAAD,CAAR,CACD,CAFD,CAIA,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACL,KAAD,CAAW,CACnCJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,sBAAR,CAAgCC,OAAO,CAAEF,KAAzC,CAAD,CAAR,CACD,CAFD,CAIA,GAAMM,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACN,KAAD,CAAW,CACjCJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,mBAAR,CAA6BC,OAAO,CAAEF,KAAtC,CAAD,CAAR,CACD,CAFD,CAIA,GAAMO,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACH,EAAD,CAAQ,CAChCR,QAAQ,CAAC,CAAEK,IAAI,CAAE,qBAAR,CAA+BC,OAAO,CAAEE,EAAxC,CAAD,CAAR,CACD,CAFD,CAIA,mBACE,oBAAC,aAAD,CAAe,QAAf,EACE,KAAK,CAAE,CACLlB,SAAS,CAAES,KAAK,CAACT,SADZ,CAELK,OAAO,CAAEI,KAAK,CAACJ,OAFV,CAGLQ,mBAAmB,CAAnBA,mBAHK,CAILI,wBAAwB,CAAxBA,wBAJK,CAKLE,iBAAiB,CAAjBA,iBALK,CAMLC,eAAe,CAAfA,eANK,CAOLC,iBAAiB,CAAjBA,iBAPK,CADT,EAWGb,KAAK,CAACc,QAXT,CADF,CAeD,CA5CM","sourcesContent":["import React, { createContext, useReducer, useEffect } from \"react\";\r\nimport AppReducer from \"./AppReducer\";\r\n\r\n// initial state\r\nconst initialState = {\r\n  watchlist: localStorage.getItem(\"watchlist\")\r\n    ? JSON.parse(localStorage.getItem(\"watchlist\"))\r\n    : [],\r\n  watched: localStorage.getItem(\"watched\")\r\n    ? JSON.parse(localStorage.getItem(\"watched\"))\r\n    : [],\r\n};\r\n\r\n// create context\r\nexport const GlobalContext = createContext(initialState);\r\n\r\n// provider components\r\nexport const GlobalProvider = (props) => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"watchlist\", JSON.stringify(state.watchlist));\r\n    localStorage.setItem(\"watched\", JSON.stringify(state.watched));\r\n  }, [state]);\r\n\r\n  // actions\r\n  const addMovieToWatchlist = (movie) => {\r\n    dispatch({ type: \"ADD_MOVIE_TO_WATCHLIST\", payload: movie });\r\n  };\r\n\r\n  const removeMovieFromWatchlist = (id) => {\r\n    dispatch({ type: \"REMOVE_MOVIE_FROM_WATCHLIST\", payload: id });\r\n  };\r\n\r\n  const addMovieToWatched = (movie) => {\r\n    dispatch({ type: \"ADD_MOVIE_TO_WATCHED\", payload: movie });\r\n  };\r\n\r\n  const moveToWatchlist = (movie) => {\r\n    dispatch({ type: \"MOVE_TO_WATCHLIST\", payload: movie });\r\n  };\r\n\r\n  const removeFromWatched = (id) => {\r\n    dispatch({ type: \"REMOVE_FROM_WATCHED\", payload: id });\r\n  };\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        watchlist: state.watchlist,\r\n        watched: state.watched,\r\n        addMovieToWatchlist,\r\n        removeMovieFromWatchlist,\r\n        addMovieToWatched,\r\n        moveToWatchlist,\r\n        removeFromWatched,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </GlobalContext.Provider>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}